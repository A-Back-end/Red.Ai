"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/projects/route";
exports.ids = ["app/api/projects/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("fs/promises");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprojects%2Froute&page=%2Fapi%2Fprojects%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprojects%2Froute.ts&appDir=%2FUsers%2Fa%2FDocuments%2Fred.ai%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fa%2FDocuments%2Fred.ai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprojects%2Froute&page=%2Fapi%2Fprojects%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprojects%2Froute.ts&appDir=%2FUsers%2Fa%2FDocuments%2Fred.ai%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fa%2FDocuments%2Fred.ai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_a_Documents_red_ai_app_api_projects_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/projects/route.ts */ \"(rsc)/./app/api/projects/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"standalone\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/projects/route\",\n        pathname: \"/api/projects\",\n        filename: \"route\",\n        bundlePath: \"app/api/projects/route\"\n    },\n    resolvedPagePath: \"/Users/a/Documents/red.ai/app/api/projects/route.ts\",\n    nextConfigOutput,\n    userland: _Users_a_Documents_red_ai_app_api_projects_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/projects/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwcm9qZWN0cyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGcHJvamVjdHMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZwcm9qZWN0cyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmElMkZEb2N1bWVudHMlMkZyZWQuYWklMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGYSUyRkRvY3VtZW50cyUyRnJlZC5haSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD1zdGFuZGFsb25lJnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ0c7QUFDaEY7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWQtYWktcGxhdGZvcm0vPzA5MjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL2EvRG9jdW1lbnRzL3JlZC5haS9hcHAvYXBpL3Byb2plY3RzL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcInN0YW5kYWxvbmVcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcHJvamVjdHMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9wcm9qZWN0c1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvcHJvamVjdHMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvYS9Eb2N1bWVudHMvcmVkLmFpL2FwcC9hcGkvcHJvamVjdHMvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3Byb2plY3RzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprojects%2Froute&page=%2Fapi%2Fprojects%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprojects%2Froute.ts&appDir=%2FUsers%2Fa%2FDocuments%2Fred.ai%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fa%2FDocuments%2Fred.ai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/projects/route.ts":
/*!***********************************!*\
  !*** ./app/api/projects/route.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n// Path to the JSON database file\nconst dbPath = path__WEBPACK_IMPORTED_MODULE_2___default().join(process.cwd(), \"database\", \"projects.json\");\n// Helper function to read projects from the database\nasync function readProjects() {\n    try {\n        const data = await fs_promises__WEBPACK_IMPORTED_MODULE_1___default().readFile(dbPath, \"utf-8\");\n        const projects = JSON.parse(data);\n        // It's important to parse dates back into Date objects\n        return projects.map((p)=>({\n                ...p,\n                createdAt: new Date(p.createdAt),\n                updatedAt: new Date(p.updatedAt)\n            }));\n    } catch (error) {\n        // If the file doesn't exist, return an empty array\n        if (error.code === \"ENOENT\") {\n            return [];\n        }\n        throw error;\n    }\n}\n// Helper function to write projects to the database\nasync function writeProjects(projects) {\n    await fs_promises__WEBPACK_IMPORTED_MODULE_1___default().writeFile(dbPath, JSON.stringify(projects, null, 2), \"utf-8\");\n}\nasync function GET(request) {\n    try {\n        const PROJECTS_DB = await readProjects();\n        const { searchParams } = new URL(request.url);\n        const userId = searchParams.get(\"userId\");\n        const projectId = searchParams.get(\"projectId\");\n        if (projectId) {\n            // Get specific project\n            const project = PROJECTS_DB.find((p)=>p.id === projectId);\n            if (!project) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"Project not found\"\n                }, {\n                    status: 404\n                });\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                project\n            });\n        }\n        if (userId) {\n            // Get all projects for user\n            const userProjects = PROJECTS_DB.filter((p)=>p.userId === userId);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                projects: userProjects.sort((a, b)=>b.updatedAt.getTime() - a.updatedAt.getTime())\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"userId or projectId required\"\n        }, {\n            status: 400\n        });\n    } catch (error) {\n        console.error(\"Get projects error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to get projects\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const PROJECTS_DB = await readProjects();\n        const projectData = await request.json();\n        const newProject = {\n            id: `project_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n            userId: projectData.userId || \"anonymous\",\n            name: projectData.name || \"Новый проект\",\n            description: projectData.description || \"\",\n            imageUrl: projectData.imageUrl,\n            createdAt: new Date(),\n            updatedAt: new Date(),\n            status: projectData.status || \"draft\",\n            generatedImages: projectData.generatedImages || [],\n            budget: projectData.budget || {\n                min: 50000,\n                max: 200000\n            },\n            preferredStyles: projectData.preferredStyles || [\n                \"modern\"\n            ],\n            restrictions: projectData.restrictions || [],\n            // Room analysis data\n            roomAnalysis: projectData.roomAnalysis || null,\n            // Design recommendation data  \n            designRecommendation: projectData.designRecommendation || null,\n            // 3D Model data\n            threeDModel: projectData.threeDModel || null,\n            // Export data\n            pdfReport: projectData.pdfReport || null,\n            shoppingList: projectData.shoppingList || null\n        };\n        PROJECTS_DB.push(newProject);\n        await writeProjects(PROJECTS_DB);\n        console.log(\"Created new project:\", newProject.id, {\n            hasRoomAnalysis: !!newProject.roomAnalysis,\n            hasDesignRecommendation: !!newProject.designRecommendation,\n            status: newProject.status\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            project: newProject\n        });\n    } catch (error) {\n        console.error(\"Create project error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to create project\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function PUT(request) {\n    try {\n        const PROJECTS_DB = await readProjects();\n        const { projectId, ...updateData } = await request.json();\n        if (!projectId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Project ID required\"\n            }, {\n                status: 400\n            });\n        }\n        const projectIndex = PROJECTS_DB.findIndex((p)=>p.id === projectId);\n        if (projectIndex === -1) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Project not found\"\n            }, {\n                status: 404\n            });\n        }\n        // Update project with new data\n        PROJECTS_DB[projectIndex] = {\n            ...PROJECTS_DB[projectIndex],\n            ...updateData,\n            updatedAt: new Date()\n        };\n        await writeProjects(PROJECTS_DB);\n        console.log(\"Updated project:\", projectId, {\n            hasRoomAnalysis: !!PROJECTS_DB[projectIndex].roomAnalysis,\n            hasDesignRecommendation: !!PROJECTS_DB[projectIndex].designRecommendation,\n            status: PROJECTS_DB[projectIndex].status\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            project: PROJECTS_DB[projectIndex]\n        });\n    } catch (error) {\n        console.error(\"Update project error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to update project\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function DELETE(request) {\n    try {\n        const PROJECTS_DB = await readProjects();\n        const { searchParams } = new URL(request.url);\n        const projectId = searchParams.get(\"projectId\");\n        if (!projectId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Project ID required\"\n            }, {\n                status: 400\n            });\n        }\n        const projectIndex = PROJECTS_DB.findIndex((p)=>p.id === projectId);\n        if (projectIndex === -1) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Project not found\"\n            }, {\n                status: 404\n            });\n        }\n        // Remove project\n        const deletedProject = PROJECTS_DB[projectIndex];\n        PROJECTS_DB.splice(projectIndex, 1);\n        await writeProjects(PROJECTS_DB);\n        console.log(\"Deleted project:\", projectId);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            deletedProject\n        });\n    } catch (error) {\n        console.error(\"Delete project error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to delete project\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVkLWFpLXBsYXRmb3JtLy4vYXBwL2FwaS9wcm9qZWN0cy9yb3V0ZS50cz80NTQ4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBQcm9qZWN0IH0gZnJvbSAnQC9saWIvdHlwZXMnO1xuaW1wb3J0IGZzIGZyb20gJ2ZzL3Byb21pc2VzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuXG4vLyBQYXRoIHRvIHRoZSBKU09OIGRhdGFiYXNlIGZpbGVcbmNvbnN0IGRiUGF0aCA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnZGF0YWJhc2UnLCAncHJvamVjdHMuanNvbicpO1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gcmVhZCBwcm9qZWN0cyBmcm9tIHRoZSBkYXRhYmFzZVxuYXN5bmMgZnVuY3Rpb24gcmVhZFByb2plY3RzKCk6IFByb21pc2U8UHJvamVjdFtdPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IGZzLnJlYWRGaWxlKGRiUGF0aCwgJ3V0Zi04Jyk7XG4gICAgY29uc3QgcHJvamVjdHMgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgIC8vIEl0J3MgaW1wb3J0YW50IHRvIHBhcnNlIGRhdGVzIGJhY2sgaW50byBEYXRlIG9iamVjdHNcbiAgICByZXR1cm4gcHJvamVjdHMubWFwKChwOiBhbnkpID0+ICh7XG4gICAgICAuLi5wLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZShwLmNyZWF0ZWRBdCksXG4gICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKHAudXBkYXRlZEF0KSxcbiAgICB9KSk7XG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAvLyBJZiB0aGUgZmlsZSBkb2Vzbid0IGV4aXN0LCByZXR1cm4gYW4gZW1wdHkgYXJyYXlcbiAgICBpZiAoZXJyb3IuY29kZSA9PT0gJ0VOT0VOVCcpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHdyaXRlIHByb2plY3RzIHRvIHRoZSBkYXRhYmFzZVxuYXN5bmMgZnVuY3Rpb24gd3JpdGVQcm9qZWN0cyhwcm9qZWN0czogUHJvamVjdFtdKTogUHJvbWlzZTx2b2lkPiB7XG4gIGF3YWl0IGZzLndyaXRlRmlsZShkYlBhdGgsIEpTT04uc3RyaW5naWZ5KHByb2plY3RzLCBudWxsLCAyKSwgJ3V0Zi04Jyk7XG59XG5cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IFBST0pFQ1RTX0RCID0gYXdhaXQgcmVhZFByb2plY3RzKCk7XG4gICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgIGNvbnN0IHVzZXJJZCA9IHNlYXJjaFBhcmFtcy5nZXQoJ3VzZXJJZCcpXG4gICAgY29uc3QgcHJvamVjdElkID0gc2VhcmNoUGFyYW1zLmdldCgncHJvamVjdElkJylcbiAgICBcbiAgICBpZiAocHJvamVjdElkKSB7XG4gICAgICAvLyBHZXQgc3BlY2lmaWMgcHJvamVjdFxuICAgICAgY29uc3QgcHJvamVjdCA9IFBST0pFQ1RTX0RCLmZpbmQocCA9PiBwLmlkID09PSBwcm9qZWN0SWQpXG4gICAgICBpZiAoIXByb2plY3QpIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdQcm9qZWN0IG5vdCBmb3VuZCcgfSwgeyBzdGF0dXM6IDQwNCB9KVxuICAgICAgfVxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgcHJvamVjdCB9KVxuICAgIH1cbiAgICBcbiAgICBpZiAodXNlcklkKSB7XG4gICAgICAvLyBHZXQgYWxsIHByb2plY3RzIGZvciB1c2VyXG4gICAgICBjb25zdCB1c2VyUHJvamVjdHMgPSBQUk9KRUNUU19EQi5maWx0ZXIocCA9PiBwLnVzZXJJZCA9PT0gdXNlcklkKVxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsIFxuICAgICAgICBwcm9qZWN0czogdXNlclByb2plY3RzLnNvcnQoKGEsIGIpID0+IGIudXBkYXRlZEF0LmdldFRpbWUoKSAtIGEudXBkYXRlZEF0LmdldFRpbWUoKSlcbiAgICAgIH0pXG4gICAgfVxuICAgIFxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAndXNlcklkIG9yIHByb2plY3RJZCByZXF1aXJlZCcgfSwgeyBzdGF0dXM6IDQwMCB9KVxuICAgIFxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignR2V0IHByb2plY3RzIGVycm9yOicsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIGdldCBwcm9qZWN0cycgfSwgeyBzdGF0dXM6IDUwMCB9KVxuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgUFJPSkVDVFNfREIgPSBhd2FpdCByZWFkUHJvamVjdHMoKTtcbiAgICBjb25zdCBwcm9qZWN0RGF0YSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXG4gICAgXG4gICAgY29uc3QgbmV3UHJvamVjdDogUHJvamVjdCA9IHtcbiAgICAgIGlkOiBgcHJvamVjdF8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWAsXG4gICAgICB1c2VySWQ6IHByb2plY3REYXRhLnVzZXJJZCB8fCAnYW5vbnltb3VzJyxcbiAgICAgIG5hbWU6IHByb2plY3REYXRhLm5hbWUgfHwgJ9Cd0L7QstGL0Lkg0L/RgNC+0LXQutGCJyxcbiAgICAgIGRlc2NyaXB0aW9uOiBwcm9qZWN0RGF0YS5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgIGltYWdlVXJsOiBwcm9qZWN0RGF0YS5pbWFnZVVybCxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIHN0YXR1czogcHJvamVjdERhdGEuc3RhdHVzIHx8ICdkcmFmdCcsXG4gICAgICBnZW5lcmF0ZWRJbWFnZXM6IHByb2plY3REYXRhLmdlbmVyYXRlZEltYWdlcyB8fCBbXSxcbiAgICAgIGJ1ZGdldDogcHJvamVjdERhdGEuYnVkZ2V0IHx8IHsgbWluOiA1MDAwMCwgbWF4OiAyMDAwMDAgfSxcbiAgICAgIHByZWZlcnJlZFN0eWxlczogcHJvamVjdERhdGEucHJlZmVycmVkU3R5bGVzIHx8IFsnbW9kZXJuJ10sXG4gICAgICByZXN0cmljdGlvbnM6IHByb2plY3REYXRhLnJlc3RyaWN0aW9ucyB8fCBbXSxcbiAgICAgIFxuICAgICAgLy8gUm9vbSBhbmFseXNpcyBkYXRhXG4gICAgICByb29tQW5hbHlzaXM6IHByb2plY3REYXRhLnJvb21BbmFseXNpcyB8fCBudWxsLFxuICAgICAgXG4gICAgICAvLyBEZXNpZ24gcmVjb21tZW5kYXRpb24gZGF0YSAgXG4gICAgICBkZXNpZ25SZWNvbW1lbmRhdGlvbjogcHJvamVjdERhdGEuZGVzaWduUmVjb21tZW5kYXRpb24gfHwgbnVsbCxcbiAgICAgIFxuICAgICAgLy8gM0QgTW9kZWwgZGF0YVxuICAgICAgdGhyZWVETW9kZWw6IHByb2plY3REYXRhLnRocmVlRE1vZGVsIHx8IG51bGwsXG4gICAgICBcbiAgICAgIC8vIEV4cG9ydCBkYXRhXG4gICAgICBwZGZSZXBvcnQ6IHByb2plY3REYXRhLnBkZlJlcG9ydCB8fCBudWxsLFxuICAgICAgc2hvcHBpbmdMaXN0OiBwcm9qZWN0RGF0YS5zaG9wcGluZ0xpc3QgfHwgbnVsbFxuICAgIH1cbiAgICBcbiAgICBQUk9KRUNUU19EQi5wdXNoKG5ld1Byb2plY3QpXG4gICAgYXdhaXQgd3JpdGVQcm9qZWN0cyhQUk9KRUNUU19EQik7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ0NyZWF0ZWQgbmV3IHByb2plY3Q6JywgbmV3UHJvamVjdC5pZCwge1xuICAgICAgaGFzUm9vbUFuYWx5c2lzOiAhIW5ld1Byb2plY3Qucm9vbUFuYWx5c2lzLFxuICAgICAgaGFzRGVzaWduUmVjb21tZW5kYXRpb246ICEhbmV3UHJvamVjdC5kZXNpZ25SZWNvbW1lbmRhdGlvbixcbiAgICAgIHN0YXR1czogbmV3UHJvamVjdC5zdGF0dXNcbiAgICB9KVxuICAgIFxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgcHJvamVjdDogbmV3UHJvamVjdFxuICAgIH0pXG4gICAgXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKCdDcmVhdGUgcHJvamVjdCBlcnJvcjonLCBlcnJvcilcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ZhaWxlZCB0byBjcmVhdGUgcHJvamVjdCcgfSwgeyBzdGF0dXM6IDUwMCB9KVxuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQVVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBQUk9KRUNUU19EQiA9IGF3YWl0IHJlYWRQcm9qZWN0cygpO1xuICAgIGNvbnN0IHsgcHJvamVjdElkLCAuLi51cGRhdGVEYXRhIH0gPSBhd2FpdCByZXF1ZXN0Lmpzb24oKVxuICAgIFxuICAgIGlmICghcHJvamVjdElkKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1Byb2plY3QgSUQgcmVxdWlyZWQnIH0sIHsgc3RhdHVzOiA0MDAgfSlcbiAgICB9XG4gICAgXG4gICAgY29uc3QgcHJvamVjdEluZGV4ID0gUFJPSkVDVFNfREIuZmluZEluZGV4KHAgPT4gcC5pZCA9PT0gcHJvamVjdElkKVxuICAgIGlmIChwcm9qZWN0SW5kZXggPT09IC0xKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1Byb2plY3Qgbm90IGZvdW5kJyB9LCB7IHN0YXR1czogNDA0IH0pXG4gICAgfVxuICAgIFxuICAgIC8vIFVwZGF0ZSBwcm9qZWN0IHdpdGggbmV3IGRhdGFcbiAgICBQUk9KRUNUU19EQltwcm9qZWN0SW5kZXhdID0ge1xuICAgICAgLi4uUFJPSkVDVFNfREJbcHJvamVjdEluZGV4XSxcbiAgICAgIC4uLnVwZGF0ZURhdGEsXG4gICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKClcbiAgICB9XG4gICAgXG4gICAgYXdhaXQgd3JpdGVQcm9qZWN0cyhQUk9KRUNUU19EQik7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1VwZGF0ZWQgcHJvamVjdDonLCBwcm9qZWN0SWQsIHtcbiAgICAgIGhhc1Jvb21BbmFseXNpczogISFQUk9KRUNUU19EQltwcm9qZWN0SW5kZXhdLnJvb21BbmFseXNpcyxcbiAgICAgIGhhc0Rlc2lnblJlY29tbWVuZGF0aW9uOiAhIVBST0pFQ1RTX0RCW3Byb2plY3RJbmRleF0uZGVzaWduUmVjb21tZW5kYXRpb24sXG4gICAgICBzdGF0dXM6IFBST0pFQ1RTX0RCW3Byb2plY3RJbmRleF0uc3RhdHVzXG4gICAgfSlcbiAgICBcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIHByb2plY3Q6IFBST0pFQ1RTX0RCW3Byb2plY3RJbmRleF1cbiAgICB9KVxuICAgIFxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignVXBkYXRlIHByb2plY3QgZXJyb3I6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gdXBkYXRlIHByb2plY3QnIH0sIHsgc3RhdHVzOiA1MDAgfSlcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gREVMRVRFKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgUFJPSkVDVFNfREIgPSBhd2FpdCByZWFkUHJvamVjdHMoKTtcbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybClcbiAgICBjb25zdCBwcm9qZWN0SWQgPSBzZWFyY2hQYXJhbXMuZ2V0KCdwcm9qZWN0SWQnKVxuICAgIFxuICAgIGlmICghcHJvamVjdElkKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1Byb2plY3QgSUQgcmVxdWlyZWQnIH0sIHsgc3RhdHVzOiA0MDAgfSlcbiAgICB9XG4gICAgXG4gICAgY29uc3QgcHJvamVjdEluZGV4ID0gUFJPSkVDVFNfREIuZmluZEluZGV4KHAgPT4gcC5pZCA9PT0gcHJvamVjdElkKVxuICAgIGlmIChwcm9qZWN0SW5kZXggPT09IC0xKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1Byb2plY3Qgbm90IGZvdW5kJyB9LCB7IHN0YXR1czogNDA0IH0pXG4gICAgfVxuICAgIFxuICAgIC8vIFJlbW92ZSBwcm9qZWN0XG4gICAgY29uc3QgZGVsZXRlZFByb2plY3QgPSBQUk9KRUNUU19EQltwcm9qZWN0SW5kZXhdXG4gICAgUFJPSkVDVFNfREIuc3BsaWNlKHByb2plY3RJbmRleCwgMSlcbiAgICBhd2FpdCB3cml0ZVByb2plY3RzKFBST0pFQ1RTX0RCKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnRGVsZXRlZCBwcm9qZWN0OicsIHByb2plY3RJZClcbiAgICBcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBkZWxldGVkUHJvamVjdCB9KVxuICAgIFxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignRGVsZXRlIHByb2plY3QgZXJyb3I6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gZGVsZXRlIHByb2plY3QnIH0sIHsgc3RhdHVzOiA1MDAgfSlcbiAgfVxufSAiXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZnMiLCJwYXRoIiwiZGJQYXRoIiwiam9pbiIsInByb2Nlc3MiLCJjd2QiLCJyZWFkUHJvamVjdHMiLCJkYXRhIiwicmVhZEZpbGUiLCJwcm9qZWN0cyIsIkpTT04iLCJwYXJzZSIsIm1hcCIsInAiLCJjcmVhdGVkQXQiLCJEYXRlIiwidXBkYXRlZEF0IiwiZXJyb3IiLCJjb2RlIiwid3JpdGVQcm9qZWN0cyIsIndyaXRlRmlsZSIsInN0cmluZ2lmeSIsIkdFVCIsInJlcXVlc3QiLCJQUk9KRUNUU19EQiIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsInVzZXJJZCIsImdldCIsInByb2plY3RJZCIsInByb2plY3QiLCJmaW5kIiwiaWQiLCJqc29uIiwic3RhdHVzIiwic3VjY2VzcyIsInVzZXJQcm9qZWN0cyIsImZpbHRlciIsInNvcnQiLCJhIiwiYiIsImdldFRpbWUiLCJjb25zb2xlIiwiUE9TVCIsInByb2plY3REYXRhIiwibmV3UHJvamVjdCIsIm5vdyIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsImltYWdlVXJsIiwiZ2VuZXJhdGVkSW1hZ2VzIiwiYnVkZ2V0IiwibWluIiwibWF4IiwicHJlZmVycmVkU3R5bGVzIiwicmVzdHJpY3Rpb25zIiwicm9vbUFuYWx5c2lzIiwiZGVzaWduUmVjb21tZW5kYXRpb24iLCJ0aHJlZURNb2RlbCIsInBkZlJlcG9ydCIsInNob3BwaW5nTGlzdCIsInB1c2giLCJsb2ciLCJoYXNSb29tQW5hbHlzaXMiLCJoYXNEZXNpZ25SZWNvbW1lbmRhdGlvbiIsIlBVVCIsInVwZGF0ZURhdGEiLCJwcm9qZWN0SW5kZXgiLCJmaW5kSW5kZXgiLCJERUxFVEUiLCJkZWxldGVkUHJvamVjdCIsInNwbGljZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/projects/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprojects%2Froute&page=%2Fapi%2Fprojects%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprojects%2Froute.ts&appDir=%2FUsers%2Fa%2FDocuments%2Fred.ai%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fa%2FDocuments%2Fred.ai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();