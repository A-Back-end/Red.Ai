# ‚úÖ Docker Setup - –£—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

**Red.AI —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ Docker!** 

### ‚úÖ –ß—Ç–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ:

1. **üê≥ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã** - –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
2. **üîë BFL API –∫–ª—é—á** - –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤–æ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö
3. **üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã** - –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
4. **üìö –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
5. **üîß –û—Ç–ª–∞–¥–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```bash
./start-docker-dev.sh
```

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
```bash
./start-docker-prod.sh
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞:
```bash
./stop-docker.sh
```

## üåê –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã:
- **üåê Frontend**: http://localhost:3000
- **üîß Backend API**: http://localhost:8000
- **üóÑÔ∏è PostgreSQL**: localhost:5432
- **üì¶ Redis**: localhost:6379
- **üìä Prometheus**: http://localhost:9090 (—Ç–æ–ª—å–∫–æ –ø—Ä–æ–¥–∞–∫—à–µ–Ω)

## ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### API —Ä–∞–±–æ—Ç–∞–µ—Ç:
```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∏–∑–∞–π–Ω–∞
curl -X POST http://localhost:3000/api/generate-design \
  -H "Content-Type: application/json" \
  -d '{"prompt": "test", "style": "modern", "roomType": "living-room"}'

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
curl "http://localhost:3000/api/check-status?url=YOUR_POLLING_URL"
```

### Frontend —Ä–∞–±–æ—Ç–∞–µ—Ç:
```bash
curl -I http://localhost:3000
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTTP/1.1 200 OK
```

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –°–∫—Ä–∏–ø—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- `start-docker-dev.sh` - –∑–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- `start-docker-prod.sh` - –∑–∞–ø—É—Å–∫ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω —Ä–µ–∂–∏–º–µ
- `stop-docker.sh` - –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- `DOCKER_SETUP.md` - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ Docker
- `BFL_API_KEY_SETUP.md` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ BFL API –∫–ª—é—á–∞
- `GRAFANA_REMOVAL.md` - —É–¥–∞–ª–µ–Ω–∏–µ Grafana
- `PROJECTS_API_FIX.md` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ API projects

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `docker-compose.yml` - –¥–æ–±–∞–≤–ª–µ–Ω BFL_API_KEY –∏ database volume
- `docker-compose.dev.yml` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã target, –¥–æ–±–∞–≤–ª–µ–Ω BFL_API_KEY –∏ database volume
- `docker-compose.yml.bak` - –¥–æ–±–∞–≤–ª–µ–Ω BFL_API_KEY –∏ database volume
- `README.md` - –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ Docker

## üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. BFL API –∫–ª—é—á –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞–ª—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω `BFL_API_KEY=${BFL_API_KEY:-}` –≤–æ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –≤ docker-compose —Ñ–∞–π–ª–∞—Ö

### 2. Docker target "production" –Ω–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª
**–†–µ—à–µ–Ω–∏–µ**: –£–±—Ä–∞–Ω `target: production` –∏–∑ docker-compose.dev.yml

### 3. –£—Å—Ç–∞—Ä–µ–≤—à–∏–π –∞—Ç—Ä–∏–±—É—Ç version
**–†–µ—à–µ–Ω–∏–µ**: –£–±—Ä–∞–Ω `version: '3.8'` –∏–∑ docker-compose.dev.yml

### 4. Grafana —É–¥–∞–ª–µ–Ω –ø–æ –∑–∞–ø—Ä–æ—Å—É
**–†–µ—à–µ–Ω–∏–µ**: –£–¥–∞–ª–µ–Ω –∏–∑ –≤—Å–µ—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π, –æ—Å—Ç–∞–≤–ª–µ–Ω —Ç–æ–ª—å–∫–æ Clerk –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### 5. API Projects –≤–æ–∑–≤—Ä–∞—â–∞–ª 500 –æ—à–∏–±–∫—É
**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω database volume –≤–æ –≤—Å–µ docker-compose —Ñ–∞–π–ª—ã –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ projects.json

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Docker –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
- **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ** - –æ–¥–∏–Ω–∞–∫–æ–≤–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö –º–∞—à–∏–Ω–∞—Ö
- **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç** - –æ–¥–∏–Ω —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç
- **–ò–∑–æ–ª—è—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** - –Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å –¥—Ä—É–≥–∏–º–∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏
- **Hot reload** - –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞ —Å—Ä–∞–∑—É –æ—Ç—Ä–∞–∂–∞—é—Ç—Å—è

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
- **–ü—Ä–æ—Å—Ç–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ** - –æ–¥–∏–Ω–∞–∫–æ–≤–æ –Ω–∞ –ª—é–±–æ–º —Å–µ—Ä–≤–µ—Ä–µ
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∏–Ω—Å—Ç–∞–Ω—Å—ã
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ health checks –∏ –ª–æ–≥–∏
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

## üìä –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker-compose -f docker-compose.dev.yml ps

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
NAME                 STATUS              PORTS
redai_backend_dev    Up 5 minutes (healthy)    0.0.0.0:8000->8000/tcp
redai_frontend_dev   Up 5 minutes (health: starting) 0.0.0.0:3000->3000/tcp
redai_postgres_dev   Up 5 minutes (healthy)    0.0.0.0:5432->5432/tcp
redai_redis_dev      Up 5 minutes (healthy)    0.0.0.0:6379->6379/tcp
```

## üîç –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
```bash
# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker-compose -f docker-compose.dev.yml logs -f

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
docker-compose -f docker-compose.dev.yml restart frontend

# –í—Ö–æ–¥ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose -f docker-compose.dev.yml exec frontend sh
```

### –û—Ç–ª–∞–¥–∫–∞:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats

# –û—á–∏—Å—Ç–∫–∞ Docker
docker system prune -a

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤
docker-compose -f docker-compose.dev.yml build --no-cache
```

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

**Red.AI —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ —á–µ—Ä–µ–∑ Docker!**

- ‚úÖ **–õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞** - —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ `./start-docker-dev.sh`
- ‚úÖ **–ü—Ä–æ–¥–∞–∫—à–µ–Ω —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ** - —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ `./start-docker-prod.sh`
- ‚úÖ **BFL API** - –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö
- ‚úÖ **API Projects** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–æ–≤
- ‚úÖ **–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã** - –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã
- ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –ø–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö —Å–ª—É—á–∞–µ–≤

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä
2. **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Docker –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
3. **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Docker –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

**üéâ –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!** 